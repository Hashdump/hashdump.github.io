---
permalink: /meetings/
---
{% assign title = 'Meetings' %}
{% include header.html %}

<div class="col-md-12 card-list clearfix">
	{% for meeting in site.data.meetings.meetings reversed%}
		{% assign uri = '/assets/images/' | append: meeting.picture %}
		{% assign i = i | plus: 1 %}
		{% include meeting_card.html meeting_data=meeting image_uri=uri%}
	{% endfor %}
</div>

{% include footer.html %}

<script>
$(function() {
	lowest = 0;
	for (var fd of $('[future-date]')){
		meetDate = new Date($(fd).attr('future-date'));
		meetDate.setHours(19);
		meetDate.setMinutes(0);
		today = new Date();
		if ( meetDate >= today){
			if (meetDate < lowest || lowest === 0){
				lowest = meetDate;
			}
		}
	}
	for (var fd of $('[future-date]')){
		meetDate = new Date($(fd).attr('future-date'));
		meetDate.setHours(19);
		meetDate.setMinutes(0);
		if ( meetDate.getTime() === new Date(lowest).getTime()){
			// $(fd).find('h5>span').addClass('w3-tag w3-round background-red');

			// If we detect an upcoming meeting, we need to visually split the 
			// meetings page into upcoming and previous meetings.
			$(fd).after('<div class="col-md-12"><h2>Previous Meetings</h2><hr/></div>');

			let cards = $(".card-list")
			cards.prepend('<div class="col-md-12"><h2>Upcoming Meetings</h2><hr/></div>');

			$('html, body').animate({
				scrollTop: $(fd).offset().top - 100
			},1000);
		}
	}
});

$(function() {
	$('a[rel*=leanModal]').leanModal({ top : 200, closeButton: ".modal_close" });		
});

</script>
